<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Volumetric Media Mixer â€” Aonified Nexus Tool</title>
<style>
  * {margin:0;padding:0;box-sizing:border-box;touch-action:none;}
  body {font-family:'Inter',sans-serif;background:#000;color:#fff;overflow:hidden;}
  #canvas {width:100vw;height:100vh;display:block;}

  /* Header Bar */
  #header {position:fixed;top:0;left:0;width:100%;background:rgba(0,0,0,0.85);border-bottom:2px solid rgba(79,195,247,.5);display:flex;align-items:center;justify-content:space-between;padding:10px 15px;z-index:50;backdrop-filter:blur(6px);}
  #header h1 {font-size:12px;letter-spacing:1px;color:#4fc3f7;margin:0;}
  #hamburger {width:30px;height:30px;border:2px solid #4fc3f7;border-radius:6px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;}
  #hamburger span {width:18px;height:2px;background:#4fc3f7;margin:2px 0;}

  /* Top Dock for Quick Access */
  #dock {position:fixed;top:45px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:40;}
  .dockBtn {width:46px;height:46px;border:2px solid #4fc3f7;border-radius:10px;background:rgba(0,0,0,0.9);color:#cfefff;font-size:10px;letter-spacing:0.5px;}
  .dockBtn.active {background:rgba(79,195,247,0.25);box-shadow:0 0 12px rgba(79,195,247,.6);}

  /* Control Panel */
  #panel {position:fixed;top:100px;left:50%;transform:translateX(-50%);min-width:320px;max-width:92vw;background:rgba(0,0,0,0.9);border:2px solid rgba(79,195,247,.5);border-radius:12px;padding:10px 14px;display:none;z-index:30;}
  #panel.open {display:block;}
  .section {margin-bottom:10px;}
  .label {font-size:10px;color:#4fc3f7;margin-bottom:6px;text-transform:uppercase;letter-spacing:1px;}
  .row {display:flex;gap:10px;align-items:center;}
  input[type="range"] {flex:1;height:6px;background:rgba(79,195,247,.3);border-radius:3px;-webkit-appearance:none;}
  input[type="range"]::-webkit-slider-thumb {-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:#4fc3f7;box-shadow:0 0 10px rgba(79,195,247,.8);}
  .val {min-width:35px;text-align:right;font-weight:700;color:#4fc3f7;font-size:12px;}
  select,button {border:2px solid #4fc3f7;background:rgba(79,195,247,0.15);color:#fff;border-radius:8px;padding:6px 10px;font-size:10px;}
  button:active,button.active {background:rgba(79,195,247,0.3);transform:scale(0.97);}

  /* Camera Pad */
  #camPad {position:fixed;right:10px;top:50%;transform:translateY(-50%);display:grid;gap:8px;z-index:20;}
  .camBtn {width:40px;height:40px;border-radius:10px;border:2px solid #4fc3f7;background:rgba(0,0,0,0.85);color:#fff;font-size:10px;}

  /* Media Shuffle HUD */
  #shuffleHUD {position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.85);border:2px solid #ffaa00;border-radius:10px;padding:10px 16px;display:flex;gap:8px;align-items:center;z-index:40;}
  #shuffleHUD button {background:rgba(255,170,0,0.2);border:2px solid #ffaa00;color:#ffaa00;}
  #shuffleHUD span {font-size:11px;color:#ffaa00;letter-spacing:0.5px;}

</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div id="header">
  <h1>AONIFIED MEDIA NEXUS</h1>
  <div id="hamburger"><span></span><span></span><span></span></div>
</div>
<div id="dock">
  <button class="dockBtn" data-panel="layers">LYR</button>
  <button class="dockBtn" data-panel="sep">SEP</button>
  <button class="dockBtn" data-panel="spc">SPC</button>
  <button class="dockBtn" data-panel="vis">VIS</button>
  <button class="dockBtn" data-panel="media">MED</button>
</div>
<div id="panel"></div>
<div id="camPad">
  <button class="camBtn" data-cam="front">FR</button>
  <button class="camBtn" data-cam="isoL">IL</button>
  <button class="camBtn" data-cam="isoR">IR</button>
  <button class="camBtn" data-cam="top">TOP</button>
</div>
<div id="shuffleHUD"><button id="shuffle">Shuffle</button><span>Temporal Blend Mode</span></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
// --- Simplified setup: cube layers as media stacks ---
let scene,camera,renderer;let cubeA=[],cubeB=[],nexus=[];let layerCount=16;let cubeDist=8;let spacing=1.2;let shuffleActive=false;
function init(){scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(50,innerWidth/innerHeight,.1,1000);camera.position.set(40,40,40);camera.lookAt(0,0,0);renderer=new THREE.WebGLRenderer({canvas:document.getElementById('canvas'),antialias:true});renderer.setSize(innerWidth,innerHeight);addLights();build();animate();}
function addLights(){scene.add(new THREE.AmbientLight(0xffffff,.4));let pl=new THREE.PointLight(0x4fc3f7,2,120);pl.position.set(0,40,40);scene.add(pl);}
function build(){for(let i=0;i<layerCount;i++){let op=0.8-(i/layerCount)*0.5;let g=makeLayer(0x00ff88,op);g.position.set(-cubeDist,i*spacing,0);scene.add(g);cubeA.push(g);let g2=makeLayer(0xff4488,op);g2.position.set(cubeDist,i*spacing,0);scene.add(g2);cubeB.push(g2);let n=makeLayer(0xffaa00,op*.8,true);n.position.set(0,i*spacing,0);scene.add(n);nexus.push(n);}}
function makeLayer(col,op,isN){let geom=new THREE.PlaneGeometry(10,10);let mat=new THREE.MeshPhongMaterial({color:col,transparent:true,opacity:op,side:THREE.DoubleSide,emissive:col,emissiveIntensity:0.3});let m=new THREE.Mesh(geom,mat);m.rotation.x=-Math.PI/2;return m;}
function animate(){requestAnimationFrame(animate);if(shuffleActive){cubeA.forEach((m,i)=>{m.rotation.y+=0.02*Math.sin(Date.now()/300+i);});cubeB.forEach((m,i)=>{m.rotation.y-=0.02*Math.cos(Date.now()/300+i);});}
renderer.render(scene,camera);}

// Shuffle animation
const shuffleBtn=document.getElementById('shuffle');shuffleBtn.addEventListener('click',()=>{shuffleActive=!shuffleActive;shuffleBtn.classList.toggle('active');});

// Camera presets
function setCam(p){const r=70;if(p==='front'){camera.position.set(0,30,r);}else if(p==='isoL'){camera.position.set(-r*.8,40,r*.6);}else if(p==='isoR'){camera.position.set(r*.8,40,r*.6);}else if(p==='top'){camera.position.set(0,100,0.01);}camera.lookAt(0,0,0);}
document.querySelectorAll('.camBtn').forEach(b=>b.addEventListener('click',()=>setCam(b.dataset.cam)));

// UI logic placeholder (panels later expanded for media attach, per-layer audio/video etc.)
init();
</script>
</body>
</html>
